# PingTest Frontend

SPA для расчёта времени отклика серверных компонентов. React-приложение с TypeScript, Redux Toolkit, адаптивным дизайном, PWA и нативным приложением Tauri.

## Лабораторная работа 5

### Реализованные страницы

- Главная страница со статическим описанием
- Страница списка услуг (компонентов) с фильтрацией
- Страница детального просмотра услуги

### Функционал

- Навигационная панель (Navbar) для базовых страниц
- Самописная навигационная цепочка (Breadcrumbs) с отображением пути от базовой страницы к текущей
- Компоненты React-Bootstrap для базовых элементов интерфейса
- Карточки услуг с изображениями по умолчанию при пустом поле
- Фильтрация услуг на бэкенде по диапазону дат, названию, цене
- Ajax-запросы через fetch с проксированием для решения CORS
- Получение данных из mock-коллекции при отсутствии доступа к бэкенду
- Три страницы фронтенда с mock-данными без запущенного сервиса

## Лабораторная работа 6

### Менеджер состояний

- Redux Toolkit для хранения фильтров услуг
- Сохранение значений фильтров в LocalStorage
- Redux DevTools для отладки состояния

### Адаптивность

- Адаптивный дизайн для трёх основных страниц
- Медиа-запросы для экранов шириной 1200px, 768px, 545px
- Адаптивные размеры карточек и количество колонок в зависимости от ширины экрана

### PWA

- Настройка Progressive Web App через vite-plugin-pwa
- Манифест приложения с иконками и метаданными
- Service Worker для кэширования статических ресурсов
- Регистрация PWA с автоматическим обновлением
- Работа в режиме standalone

### Развёртывание

- Развёртывание на GitHub Pages
- Настройка базового пути для GitHub Pages
- Скрипт деплоя через gh-pages

### Tauri

- Нативное приложение на Tauri для интерфейса гостя
- Три страницы с фильтрацией и картинками
- Подключение к API через IP-адрес локальной сети (не localhost)
- Адаптер для проксирования запросов в Tauri-окружении
- Определение окружения Tauri в runtime
- Сборка нативного приложения для Windows

### HTTPS

- Настройка HTTPS в локально развёрнутом фронтенде через mkcert
- Сертификаты для разработки

## Лабораторная работа 7

### Авторизация и регистрация

- Страница регистрации пользователя
- Страница авторизации с JWT в HttpOnly-cookie
- Переключение между интерфейсом гостя и пользователя
- Отображение имени/логина пользователя в меню после авторизации
- Сброс содержимого конструктора заявки и фильтров при выходе
- Сохранение JWT/сессии в Application после обновления страницы

### Redux Toolkit и redux-thunk

- Redux Toolkit для управления состоянием приложения
- Redux-thunk middleware для асинхронных действий
- Слайсы: authSlice, catalogSlice, requestsSlice
- Состояния Redux для каталога услуг, черновика заявки, истории запросов, авторизации

### Кодогенерация API

- Генерация TypeScript-клиента из Swagger через swagger-typescript-api
- Скрипт generate-api.mjs для автоматической генерации
- Axios как HTTP-клиент в сгенерированном коде
- Использование сгенерированных методов API в thunk-экшенах
- Названия методов соответствуют тематике проекта

### Страница каталога услуг

- Поиск услуг с фильтрацией на бэкенде
- Кнопка "Добавить" для внесения услуги в черновик заявки (доступна только для авторизованных пользователей)
- Иконка черновика с отображением счётчика добавленных услуг
- Кнопка перехода к черновику заявки с изменением состояния в зависимости от наличия черновика

### Страница заявки

- Страница черновика/заявки с возможностью редактирования в статусе DRAFT
- Изменение количества компонентов в заявке
- Удаление компонентов из черновика
- Установка коэффициента нагрузки
- Подтверждение заявки (перевод в статус FORMED)
- Удаление заявки
- Просмотр старых заявок в других статусах без возможности редактирования
- Отображение всех полей заявки, включая результаты асинхронных вычислений

### Страница списка заявок

- Таблица заявок пользователя с фильтрацией
- Фильтры по статусу заявки
- Фильтры по диапазону даты формирования (только даты, без времени)
- Фильтрация по создателю заявки на фронтенде
- Переход к деталям заявки
- Отображение статусов: DRAFT, FORMED, COMPLETED, REJECTED

### Личный кабинет

- Страница личного кабинета пользователя
- Обновление логина
- Сброс пароля
- Обновление других полей профиля

### Анимации загрузки

- Отображение анимации загрузки при выполнении запросов
- Компонент Loader для индикации загрузки
- Состояния загрузки в Redux для различных операций

### LocalStorage

- Хранение фильтров каталога в LocalStorage
- Хранение последнего логина пользователя
- Сохранение состояния фильтров между сессиями

## Лабораторная работа 8

### Асинхронный сервис

- Интеграция с асинхронным сервисом для отложенных действий
- Отображение результатов асинхронных вычислений в заявке
- Обновление полей заявки после завершения асинхронных операций
- Отображение количества заполненных записей в м-м при наличии рассчитываемых полей

### Интерфейс модератора

- Интерфейс модератора, доступный после авторизации модератора
- Страница управления услугами (компонентами)
- Табличное отображение списка услуг
- Добавление новых услуг с обязательными и необязательными полями
- Редактирование существующих услуг
- Удаление услуг
- Страница редактирования/создания услуги

### Страница списка заявок для модератора

- Кнопки для смены статуса заявок (COMPLETE, REJECT)
- Фильтрация по диапазону даты формирования на бэкенде
- Фильтрация по статусу заявок на бэкенде
- Фильтрация по создателю заявки на фронтенде
- Short polling для обновления списка заявок каждые 10 секунд (только для модераторов)
- Отображение актуальных статусов заявок в реальном времени

### Статические страницы ошибок

- Страница 403 (Forbidden) для доступа запрещённого контента
- Страница 404 (NotFound) для несуществующих маршрутов

### Пагинация

- Пагинация списка заявок на бэкенде
- Отображение текущей страницы, общего количества элементов
- Навигация по страницам

## Дополнительное задание. Модуль 2

### Интерфейс модератора

- Полнофункциональный интерфейс модератора, доступный после авторизации пользователя с правами модератора
- Разделение интерфейса пользователя и модератора
- Проверка прав доступа на уровне маршрутизации

### Управление услугами (компонентами)

- Страница управления услугами для модератора
- Табличное отображение списка всех услуг
- Добавление новых услуг с указанием обязательных и необязательных полей
- Редактирование существующих услуг через отдельную страницу
- Удаление услуг с подтверждением операции
- Страница создания новой услуги
- Страница редактирования услуги по идентификатору

### Статические страницы ошибок

- Страница 403 (Forbidden) для отображения при попытке доступа к контенту без необходимых прав
- Страница 404 (NotFound) для отображения при переходе на несуществующий маршрут
- Обработка всех несуществующих маршрутов через catch-all route

### Функциональность модератора в списке заявок

- Расширенный интерфейс списка заявок для модератора
- Возможность просмотра заявок всех пользователей
- Управление статусами заявок через кнопки действий
- Фильтрация заявок по различным критериям
- Автоматическое обновление списка заявок через short polling

## Технические детали

### Стек технологий

- React 19 с TypeScript
- Vite как сборщик
- Redux Toolkit с redux-thunk
- React Router DOM для маршрутизации
- Axios для HTTP-запросов
- React-Bootstrap для базовых компонентов
- Tauri для нативного приложения
- vite-plugin-pwa для PWA
- vite-plugin-mkcert для HTTPS в разработке
- swagger-typescript-api для кодогенерации

### Структура проекта

- Компоненты в `src/components/`
- Страницы в `src/pages/`
- Redux слайсы в `src/slices/`
- API клиент в `src/api/` (сгенерирован из Swagger)
- Стили в `src/styles/`
- Конфигурация Tauri в `src-tauri/`
- Скрипты в `scripts/`

### Прокси и CORS

- Настройка прокси в Vite для разработки
- Проксирование запросов через `/api` на бэкенд
- Адаптер для Tauri с проксированием запросов
- Определение окружения (Tauri, GitHub Pages, локальная разработка) для выбора базового URL API

### Состояния Redux

- `auth`: состояние авторизации, данные пользователя
- `catalog`: каталог услуг, фильтры поиска, состояние загрузки
- `requests`: черновик заявки, список заявок, фильтры, пагинация, состояние загрузки

### Маршруты

- `/` - главная страница
- `/components` - список услуг
- `/components/:id` - детали услуги
- `/login` - авторизация
- `/register` - регистрация
- `/requests` - список заявок
- `/requests/:id` - детали заявки
- `/profile` - личный кабинет
- `/components-management` - управление услугами (модератор)
- `/components-management/:id` - редактирование услуги
- `/components-management/new` - создание услуги
- `/403` - доступ запрещён
- `/404` - страница не найдена
